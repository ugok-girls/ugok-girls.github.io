var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let _;function p(t){_=t}function g(){if(!_)throw new Error("Function called outside component initialization");return _}const v=[],w=[],b=[],k=[],y=Promise.resolve();let $=!1;function x(t){b.push(t)}let C=!1;const N=new Set;function j(){if(!C){C=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];p(e),E(e.$$)}for(p(null),v.length=0;w.length;)w.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];N.has(e)||(N.add(e),e())}b.length=0}while(v.length);for(;k.length;)k.pop()();$=!1,C=!1,N.clear()}}function E(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}const T=new Set;let O;function A(){O={r:0,c:[],p:O}}function P(){O.r||o(O.c),O=O.p}function U(t,e){t&&t.i&&(T.delete(t),t.i(e))}function K(t,e,n,o){if(t&&t.o){if(T.has(t))return;T.add(t),O.c.push((()=>{T.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function L(t,e){const n=e.token={};function o(t,o,r,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==r&&(s=s.slice(),s[r]=i);const a=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(A(),K(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),P())})):e.block.d(1),a.c(),U(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[o]=a),c&&j()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const n=g();if(t.then((t=>{p(n),o(e.then,1,e.value,t),p(null)}),(t=>{if(p(n),o(e.catch,2,e.error,t),p(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var r}function G(t,n,i){const{fragment:s,on_mount:a,on_destroy:c,after_update:l}=t.$$;s&&s.m(n,i),x((()=>{const n=a.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(x)}function R(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(v.push(t),$||($=!0,y.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function I(e,r,i,s,a,l,u=[-1]){const d=_;p(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:u,skip_bound:!1};let f=!1;if(h.ctx=i?i(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&a(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),f&&B(e,t)),n})):[],h.update(),f=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(c)}else h.fragment&&h.fragment.c();r.intro&&U(e.$$.fragment),G(e,r.target,r.anchor),j()}p(d)}function D(){}function M(t){for(var e,n,o=1,r=arguments.length;o<r;o++)for(e in n=arguments[o])t[e]=n[e];return t}function q(t,e){e.appendChild(t)}function H(t,e,n){e.insertBefore(t,n)}function S(t){t.parentNode.removeChild(t)}function z(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function J(t,e,n){t.setAttribute(e,n)}function Q(){return Object.create(null)}function V(t){this.destroy=D,this.fire("destroy"),this.set=this.get=D,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function W(t,e){return t!==e||t&&"object"==typeof t||"function"==typeof t}function X(t,e,n,o,r){for(var i in e)if(n[i]){var s=o[i],a=r[i],c=e[i];if(c)for(var l=0;l<c.length;l+=1){var u=c[l];u.__calling||(u.__calling=!0,u.call(t,s,a),u.__calling=!1)}}}function Y(t,e){t.options=e,t._observers={pre:Q(),post:Q()},t._handlers=Q(),t._root=e._root||t,t._yield=e._yield,t._bind=e._bind}function Z(t){for(;t&&t.length;)t.pop()()}var tt={destroy:V,get:function(t){return t?this._state[t]:this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var o=0;o<n.length;o+=1)n[o].call(this,e)},observe:function(t,e,n){var o=n&&n.defer?this._observers.post:this._observers.pre;return(o[t]||(o[t]=[])).push(e),n&&!1===n.init||(e.__calling=!0,e.call(this,this._state[t]),e.__calling=!1),{cancel:function(){var n=o[t].indexOf(e);~n&&o[t].splice(n,1)}}},on:function(t,e){if("teardown"===t)return this.on("destroy",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(M({},t)),this._root._lock||(this._root._lock=!0,Z(this._root._beforecreate),Z(this._root._oncreate),Z(this._root._aftercreate),this._root._lock=!1)},teardown:V,_recompute:D,_set:function(t){var e=this._state,n={},o=!1;for(var r in t)W(t[r],e[r])&&(n[r]=o=!0);o&&(this._state=M({},e,t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),X(this,this._observers.pre,n,this._state,e),this._fragment.p(n,this._state),X(this,this._observers.post,n,this._state,e))},_mount:function(t,e){this._fragment.m(t,e)},_unmount:function(){this._fragment.u()}},et={loadAPI(){var t="twitter-wjs";if(!document.getElementById(t)){var e=document.createElement("script");e.id=t,e.type="text/javascript",e.async=!0,e.src="//platform.twitter.com/widgets.js",document.getElementsByTagName("head")[0].appendChild(e)}}};function nt(){et.loadAPI()}function ot(t){Y(this,t),this._state=M({href:"https://twitter.com/sveltejs",grid:!1,lang:void 0,showReplies:void 0,chrome:void 0,theme:void 0,width:void 0,height:void 0,tweetLimit:void 0,linkColor:void 0,borderColor:void 0,ariaPolite:void 0,dnt:void 0},t.data),this._recompute({href:1,grid:1},this._state);var e=nt.bind(this);t._root?this._root._oncreate.push(e):this._oncreate=[e],this._fragment=function(t,e){var n,o,r,i;return{c:function(){n=z("a"),o=F("Tweets from "),r=F(t.href),i=F("."),this.h()},h:function(){J(n,"data-width",t.width),n.className=t.timelineClass,J(n,"data-lang",t.lang),J(n,"data-show-replies",t.showReplies),J(n,"data-chrome",t.chrome),J(n,"data-theme",t.theme),n.href=t.href,J(n,"data-height",t.height),J(n,"data-tweet-limit",t.tweetLimit),J(n,"data-link-color",t.linkColor),J(n,"data-border-color",t.borderColor),J(n,"data-aria-polite",t.ariaPolite),J(n,"data-dnt",t.dnt)},m:function(t,e){H(n,t,e),q(o,n),q(r,n),q(i,n)},p:function(t,e){t.width&&J(n,"data-width",e.width),t.timelineClass&&(n.className=e.timelineClass),t.lang&&J(n,"data-lang",e.lang),t.showReplies&&J(n,"data-show-replies",e.showReplies),t.chrome&&J(n,"data-chrome",e.chrome),t.theme&&J(n,"data-theme",e.theme),t.href&&(n.href=e.href),t.height&&J(n,"data-height",e.height),t.tweetLimit&&J(n,"data-tweet-limit",e.tweetLimit),t.linkColor&&J(n,"data-link-color",e.linkColor),t.borderColor&&J(n,"data-border-color",e.borderColor),t.ariaPolite&&J(n,"data-aria-polite",e.ariaPolite),t.dnt&&J(n,"data-dnt",e.dnt),t.href&&(r.data=e.href)},u:function(){S(n)},d:D}}(this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),Z(this._oncreate))}function rt(){et.loadAPI()}function it(t){Y(this,t),this._state=M({href:"https://twitter.com/sveltejs/status/802710541366128640",cards:void 0,conversation:void 0,theme:void 0,linkColor:void 0,width:void 0,align:void 0,lang:void 0,dnt:void 0},t.data);var e=rt.bind(this);t._root?this._root._oncreate.push(e):this._oncreate=[e],this._fragment=function(t,e){var n,o,r,i,s;return{c:function(){n=z("blockquote"),o=z("a"),r=F("Tweet from "),i=F(t.href),s=F("."),this.h()},h:function(){n.className="twitter-tweet",J(n,"data-cards",t.cards),J(n,"data-conversation",t.conversation),J(n,"data-theme",t.theme),J(n,"data-link-color",t.linkColor),J(n,"data-width",t.width),J(n,"data-align",t.align),J(n,"data-lang",t.lang),J(n,"data-dnt",t.dnt),o.href=t.href},m:function(t,e){H(n,t,e),q(o,n),q(r,o),q(i,o),q(s,o)},p:function(t,e){t.cards&&J(n,"data-cards",e.cards),t.conversation&&J(n,"data-conversation",e.conversation),t.theme&&J(n,"data-theme",e.theme),t.linkColor&&J(n,"data-link-color",e.linkColor),t.width&&J(n,"data-width",e.width),t.align&&J(n,"data-align",e.align),t.lang&&J(n,"data-lang",e.lang),t.dnt&&J(n,"data-dnt",e.dnt),t.href&&(o.href=e.href,i.data=e.href)},u:function(){S(n)},d:D}}(this._state),t.target&&(this._fragment.c(),this._fragment.m(t.target,t.anchor||null),Z(this._oncreate))}M(ot.prototype,tt),ot.prototype._recompute=function(t,e){var n,o;(t.href||t.grid)&&W(e.timelineClass,e.timelineClass=(n=e.href,o=e.grid,n.indexOf("/timelines/")>-1&&o?"twitter-grid":"twitter-timeline"))&&(t.timelineClass=!0)},M(it.prototype,tt);var st=it;function at(t,e,n){const o=t.slice();return o[4]=e[n],o}function ct(e){let n,o,r=e[7].message+"";return{c(){n=l("p"),o=u(r),m(n,"color","red")},m(t,e){a(t,n,e),s(n,o)},p:t,i:t,o:t,d(t){t&&c(n)}}}function lt(t){let e,n,r,i,u,_,p,g,v,w,b,k,y,$,x,C,N,j=t[3],E=[];for(let e=0;e<j.length;e+=1)E[e]=ut(at(t,j,e));const T=t=>K(E[t],1,1,(()=>{E[t]=null}));return{c(){e=l("div"),n=l("h1"),n.textContent="UGOK Twitter発信状況一覧（第1ステージ）",r=d(),i=l("div"),u=l("button"),u.textContent="50音順",_=d(),p=l("button"),p.textContent="ツイート数",g=d(),v=l("button"),v.textContent="いいね数",w=d(),b=l("button"),b.textContent="コメント数",k=d();for(let t=0;t<E.length;t+=1)E[t].c();y=d(),$=l("footer"),$.textContent="— UGOK Project since 2017 —",f(n,"class","svelte-1yx0752"),m(i,"display","flex"),m(i,"justify-content","space-around"),f(e,"id","ranking"),f($,"class","svelte-1yx0752")},m(o,c){a(o,e,c),s(e,n),s(e,r),s(e,i),s(i,u),s(i,_),s(i,p),s(i,g),s(i,v),s(i,w),s(i,b),s(e,k);for(let t=0;t<E.length;t+=1)E[t].m(e,null);a(o,y,c),a(o,$,c),x=!0,C||(N=[h(u,"click",ft(t[3],"A")),h(p,"click",ft(t[3],"T")),h(v,"click",ft(t[3],"L")),h(b,"click",ft(t[3],"C"))],C=!0)},p(n,o){if(t=n,1&o){let n;for(j=t[3],n=0;n<j.length;n+=1){const r=at(t,j,n);E[n]?(E[n].p(r,o),U(E[n],1)):(E[n]=ut(r),E[n].c(),U(E[n],1),E[n].m(e,null))}for(A(),n=j.length;n<E.length;n+=1)T(n);P()}},i(t){if(!x){for(let t=0;t<j.length;t+=1)U(E[t]);x=!0}},o(t){E=E.filter(Boolean);for(let t=0;t<E.length;t+=1)K(E[t]);x=!1},d(t){t&&c(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(E,t),t&&c(y),t&&c($),C=!1,o(N)}}}function ut(e){let n,o,r,i,h,m,_,p,g,v,w,b,k,y,$,x,C,N,j,E,T,O,A,P,L,B,I,D,M,q,H,S,z=e[4].screenName+"",F=e[4].nTweets+"",J=e[4].likes+"",Q=e[4].replies+"",V=e[4].retweets+"";return q=new st({props:{href:"https://twitter.com/"+e[4].userName+"?ref_src=twsrc%5Etfw"}}),{c(){var t;n=l("div"),o=l("div"),r=l("div"),i=l("img"),m=d(),_=l("p"),p=u(z),g=d(),v=l("div"),w=l("div"),b=u(" "),k=u(F),y=u(" ツイート"),$=l("br"),x=u("\n                 "),C=u(J),N=u(" いいね"),j=l("br"),E=u("\n                 "),T=u(Q),O=u(" コメント"),A=l("br"),P=u("\n                 "),L=u(V),B=u(" RT"),I=l("br"),D=d(),M=l("div"),(t=q.$$.fragment)&&t.c(),H=d(),i.src!==(h=e[4].iconUrl)&&f(i,"src",h),f(i,"alt","プロフィール画像"),f(_,"class","svelte-1yx0752"),f(r,"class","profile svelte-1yx0752"),f(w,"class","twData svelte-1yx0752"),f(v,"class","snsData svelte-1yx0752"),f(o,"class","card svelte-1yx0752"),f(M,"class","tweet svelte-1yx0752"),f(n,"class","record svelte-1yx0752")},m(t,e){a(t,n,e),s(n,o),s(o,r),s(r,i),s(r,m),s(r,_),s(_,p),s(o,g),s(o,v),s(v,w),s(w,b),s(w,k),s(w,y),s(w,$),s(w,x),s(w,C),s(w,N),s(w,j),s(w,E),s(w,T),s(w,O),s(w,A),s(w,P),s(w,L),s(w,B),s(w,I),s(n,D),s(n,M),G(q,M,null),s(n,H),S=!0},p:t,i(t){S||(U(q.$$.fragment,t),S=!0)},o(t){K(q.$$.fragment,t),S=!1},d(t){t&&c(n),R(q)}}}function dt(e){let n;return{c(){n=l("div"),n.innerHTML='<div class="spinner svelte-1yx0752"></div>',f(n,"id","loading"),f(n,"class","svelte-1yx0752")},m(t,e){a(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function ht(t){let e,n,o,r,i={ctx:t,current:null,token:null,hasCatch:!0,pending:dt,then:lt,catch:ct,value:3,error:7,blocks:[,,,]};return L(t[0],i),{c(){e=l("html"),n=d(),o=l("main"),i.block.c(),document.title="UGOK Twitter発信状況一覧サイト",f(e,"lang","ja"),f(o,"class","svelte-1yx0752")},m(t,c){s(document.head,e),a(t,n,c),a(t,o,c),i.block.m(o,i.anchor=null),i.mount=()=>o,i.anchor=null,r=!0},p(e,[n]){{const o=(t=e).slice();o[3]=o[7]=i.resolved,i.block.p(o,n)}},i(t){r||(U(i.block),r=!0)},o(t){for(let t=0;t<3;t+=1){K(i.blocks[t])}r=!1},d(t){c(e),t&&c(n),t&&c(o),i.block.d(),i.token=null,i=null}}}function ft(t,e){switch(e){case"A":t.sort(((t,e)=>t.screenName.localeCompared(e.screenName)),"ja");case"T":return t.sort(((t,e)=>{const n=e.nTweets-t.nTweets;if(0!==n)return n;{const n=e.likes-t.likes;return 0!==n?n:e.replies-t.replies}}))}}function mt(t){const e=["UGOK_5563","usagi_UGOK","AyA3156_ugok","kumi_UGOK","ms_UGOK","yuria_ugok","misk_ugok","mami_ugok","0024_ugok","haru_ugok","natsu_ugok","sakumwu","HMDKN_5A"];return[async function(){const t=[],n=/^RT\s.+:/;for(const o of e){const e="https://ugok-twitter-status.deno.dev/?member="+o,r=await fetch(e,{mode:"cors"});if(!r.ok)throw new Error(r);{const e=await r.json();if("success"!==e.status)throw new Error(e);{const o=e.record;let r=0,i=0,s=0,a=0;for(const t of o.tweets){if(t.text.match(n))continue;r+=1;const e=t.public_metrics;i+=e.like_count,s+=e.retweet_count,a+=e.reply_count,t.in_reply_to_user_id&&t.in_reply_to_user_id===t.author_id&&(a-=1)}t.push({userName:o.userName,screenName:o.screenName,iconUrl:o.iconUrl,nTweets:r,likes:i,retweets:s,replies:a})}}}return t.sort(((t,e)=>t.screenName.localeCompared(e.screenName)),"ja")}()]}return new class extends class{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),I(this,t,mt,ht,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
